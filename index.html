<html>
  <head></head>
  <body>
    <script src="blocksdk.js"></script>
    <script>
      var sdk = new window.sfdc.BlockSDK();
      var textareacontent = '';
      // do something with the sdk

      //functions
      function textAreaChange() {
        textAreaContent = document.getElementById('textarea-0').value;
        //setting super content (for preview)
        sdk.setSuperContent(textAreaContent);
        sdk.setContent({inputText: textAreaContent});//Callback not used
        sdk.setData({inputText: textAreaContent});

        console.log('textareacontent --> ' + textAreaContent);

        sdk.getData( 
          function(data) 
          {
            console.log('[debug]: Get Data method' + JSON.stringify(data)); //+ data.textarea ); //+ ' textareacontent ' + textareacontent);
          }
        );

      //get default value if available
      //TODO: 
      var textAreaElement = document.getElementById('textarea-0');
      if (textAreaElement) { 
        textAreaElement.addEventListener("input", 
        function () {
          console.log('typing..')
          //debounce(paintMap, 500)();
          textAreaChange();
      });
      }
      
      //Setting DIV tag  
      document.getElementById('div-0').innerHTML = textAreaContent;

      

      }
      console.log('SDK object --> ' + sdk);
    </script>
    <div id='textarea'>
    <textarea id='textarea-0' onchange="textAreaChange()">default</textarea>  
    <div id='div-0'>div</div>
    </div>
  </body>
</html>